<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>PharmEasy: Online PharmEasy & Medical Store In India</title>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<section id="header">
		<a href="#"><img src="image/logo.png" class="logo" alt=""></a>
		<div>
			<ul id="navbar">
				<li><a class="active" href="index.html">Home</a></li>
				<li><a href="shop.html">Shop</a></li>
				<li><a href="blog.html">Blog</a></li>
				<li><a href="about.html">About</a></li>
				<li><a href="contact.html">Contact</a></li>
				<li id="lg-bag"><a href="cart.html"><i class="fas fa-shopping-bag"></i></a></li>
				<li id="loginBtn"><a href="login.html">Login</a></li>
				<a href="" id="close"><i class="fas fa-times"></i></a>
			</ul>
		</div>
		<div id="mobile">
			<a href="cart.html"><i class="fas fa-shopping-bag"></i></a>
			<i id="bar" class="fas fa-outdent"></i>
		</div>
	</section>

	<section id="hero">
		<!-- <h4>Trade-in-offer</h4> -->
		<h2>Super value deals</h2>
		<h1>On all Medicines</h1>
		<p>Save more with coupans & up to 70% off!</p>
		<button>Shop Now</button>
	</section>

	<section id="feature" class="section-p1">
		<div class="fe-box">
			<img src="image/medicine.png" alt="">
			<h6>Upto 25% Off</h6>
		</div>
		<div class="fe-box">
			<img src="image/labtests.png" alt="">
			<h6>Upto 70% Off</h6>
		</div>
		<div class="fe-box">
			<img src="image/healthcare.png" alt="">
			<h6>Upto 60% Off</h6>
		</div>
		<div class="fe-box">
			<img src="image/healthblog.png" alt="">
			<!-- <h6>Promotions</h6> -->
		</div>
		<div class="fe-box">
			<img src="image/plusextra.png" alt="">
			<h6>Save 5% Extra</h6>
		</div>
		<div class="fe-box">
			<img src="image/valuestore.png" alt="">
			<h6>Upto 50% Off</h6>
		</div>
	</section>

	<section id="product1" class="section-p1">
		<h2>New Launches</h2>
		<p>New wellness range just for you!</p>
		<div id="newLaunchesContainer" class="pro-container" onclick="window.location.href='product.html';">

		</div>
	</section>

	<section id="banner" class="section-m1">
		<h4>Became a Plus Member</h4>
		<h2>Up to <span>70% Off</span>- All Medicines & Healthcare Products</h2>
		<button class="normal">Explore More</button>
	</section>

	<section id="product1" class="section-p1">
		<h2>Trending Near You</h2>
		<p>Popular in your city</p>
		<div id="trendingNearContainer" class="pro-container" onclick="window.location.href='product.html';">

		</div>
	</section>

	<section id="sm-banner" class="section-p1">
		<div class="banner-box">
			<!-- <h4>Crazy Deals</h4>
            <h2>Buy 1 Get 1 Free</h2>
            <span>The best classic dress is on sale at care</span> -->
			<button class="white" style="margin-top: 20%;">Learn More</button>
		</div>
		<div class="banner-box banner-box2">
			<!-- <h4>Spring/Summer</h4>
            <h2>Upcoming Season</h2> -->
			<!-- <span>The best classic dress is on sale at care</span> -->
			<button class="white" style="margin-top: 20%;">Order Now</button>
		</div>
	</section>

	<section id="banner3">
		<div class="banner-box">
			<!-- <h2>Flat ₹800 OFF</h2> -->
			<!-- <h3>Comprehensive Full Body Checkup <br>Test With Vitamin D & B12</h3> -->
		</div>
		<div class="banner-box banner-box2">
			<!-- <h2>NEW FOOTWEAR COLLECTION</h2>
            <h3>Spring / Summer 2024</h3> -->
		</div>
		<div class="banner-box banner-box3">
			<!-- <h2>T-Shirts</h2>
            <h3>New Trendy Prints</h3> -->
		</div>
	</section>

	<section id="newsletter" class="section-p1 section-m1">
		<div class="newstext">
			<h4>Sign Up For Newsletters</h4>
			<p>Get E-Mail updates about our latest shop and <span>special offers.</span></p>
		</div>
		<div class="form">
			<input type="text" placeholder="Your Email Address">
			<button class="normal">Sign Up</button>
		</div>
	</section>

	<footer class="section-p1">
		<div class="col">
			<img class="logo" src="image/logo.png" alt="">
			<h4>Contact</h4>
			<p><strong>Address:</strong> 562 Wellington Road, Street 32, San Francisco</p>
			<p><strong>Phone:</strong> +01 2222 365 /(+91) 01 2345 6789</p>
			<p><strong>Hours:</strong> 10:00 - 18:00, Mon - Sat</p>
			<div class="follow">
				<h4>Follow us</h4>
				<div class="icon">
					<i class="fab fa-facebook-f"></i>
					<i class="fab fa-twitter"></i>
					<i class="fab fa-instagram"></i>
					<i class="fab fa-youtube"></i>
					<i class="fab fa-linkedin"></i>
				</div>
			</div>
		</div>

		<div class="col">
			<h4>About</h4>
			<a href="#">About Us</a>
			<a href="#">Delivery Information</a>
			<a href="#">Privacy policy</a>
			<a href="#">Terms & Conditions</a>
			<a href="#">Contact Us</a>
		</div>

		<div class="col">
			<h4>My Account</h4>
			<a href="#">Sign In</a>
			<a href="#">View Cart</a>
			<a href="#">My Wishlist</a>
			<a href="#">Track My Order</a>
			<a href="#">Help</a>
		</div>

		<div class="col install">
			<h4>Install App</h4>
			<p>From App Store or Google play</p>
			<div class="row">
				<img src="img/pay/app.jpg" alt="">
				<img src="img/pay/play.jpg" alt="">
			</div>
			<p>Secured Payment Gateways</p>
			<img src="img/pay/pay.png" alt="">
		</div>

		<div class="copyright">
			<p>Copyright © 2024, PharmEasy. All rights reserved.</p>
		</div>
	</footer>

	<script>
		const bar = document.getElementById('bar');
		const close = document.getElementById('close');
		const nav = document.getElementById('navbar');

		if (bar) {
			bar.addEventListener('click', () => {
				nav.classList.add('active');
			})
		}

		if (close) {
			close.addEventListener('click', () => {
				nav.classList.remove('active');
			})
		}

		document.addEventListener("DOMContentLoaded", function () {
			// Function to fetch products from backend
			function fetchProducts(endpoint, containerId) {
				fetch(endpoint)
					.then(response => response.json())
					.then(data => {
						const productContainer = document.getElementById(containerId);
						productContainer.innerHTML = ""; // Clear existing products
						data.forEach(product => {
							const productHTML = `
		                        <div class="pro">
		                            <img src="${product.imageUrl}" alt="">
		                            <div class="des">
		                                <span>${product.brand}</span>
		                                <h5>${product.name}</h5>
		                                <div class="star">
		                                    <i class="fas fa-star"></i>
		                                    <i class="fas fa-star"></i>
		                                    <i class="fas fa-star"></i>
		                                    <i class="fas fa-star"></i>
		                                    <i class="fas fa-star"></i>
		                                </div>
		                                <h4>₹${product.price}</h4>
		                            </div>
		                            <a href="#" class="add-to-cart" data-product-id="${product.id}"><i class="fas fa-cart-plus cart"></i></a>
		                        </div>
		                    `;
							productContainer.innerHTML += productHTML;
						});
					})
					.catch(error => console.error('Error fetching products:', error));
			}

			// Fetch products for new launches container
			fetchProducts('/api/new-launches', 'newLaunchesContainer');

			// Fetch products for trending near container
			fetchProducts('/api/trending-near', 'trendingNearContainer');

			// Fetch products for shop page
			fetchProducts('/api/shop', 'product-container');

			// Add event listener for adding items to the cart
			document.addEventListener('click', function (event) {
				if (event.target.classList.contains('add-to-cart')) {
					event.preventDefault();
					const productId = event.target.getAttribute('data-product-id');
					addToCart(productId);
				}
			});

			// Add event listeners to all elements with the class "pro" within the ".pro-container"
			document.querySelectorAll('.pro-container').forEach(container => {
				container.addEventListener('click', function (event) {
					// Find the closest .pro element to the clicked area
					const productElement = event.target.closest('.pro');
					if (productElement) {
						const productId = productElement.dataset.productId;
						redirectToProductPage(productId);
					}
				});
			});

			function redirectToProductPage(productId) {
				window.location.href = `product.html?id=${productId}`; // Redirect to product.html with product id as query parameter
			}

			// Function to add item to cart
			function addToCart(productId) {
				fetch(`/api/cart/add/${productId}`, {
					method: 'POST'
				})
					.then(response => {
						if (response.ok) {
							alert('Item added to cart successfully!');
						} else {
							alert('Failed to add item to cart!');
						}
					})
					.catch(error => console.error('Error adding item to cart:', error));
			}
		});

	</script>
</body>

</html>